<sdf version='1.6'>
    <model name='magnus_wings'>

        <link name="base_link">
            <pose frame=''>0 0 0 0 -0 0</pose>
            <inertial>
                <pose frame=''>0 0 0 0 -0 0</pose>
                <mass>0.0</mass>
                <inertia>
                    <ixx>0</ixx>
                    <ixy>0</ixy>
                    <ixz>0</ixz>
                    <iyy>0</iyy>
                    <iyz>0</iyz>
                    <izz>0</izz>
                </inertia>
            </inertial>
            <collision name='base_link_collision'>
                <pose frame=''>0 0 0 0 -0 0</pose>
                <geometry>
                <box>
                    <size>0.2 0.3 0.01</size>
                </box>
                </geometry>
                <surface>
                <contact>
                    <ode>
                    <min_depth>0.001</min_depth>
                    <max_vel>0</max_vel>
                    </ode>
                </contact>
                <friction>
                    <ode/>
                </friction>
                </surface>
            </collision>
            <visual name='base_link_visual'>
                <pose frame=''>0 0 0 0 -0 0</pose>
                <geometry>
                    <box>
                        <size>0.3 0.2 0.05</size>
                    </box>
                </geometry>
                <material>
                <script>
                    <name>Gazebo/DarkGrey</name>
                    <uri>file://media/materials/scripts/gazebo.material</uri>
                </script>
                </material>
            </visual>
            <gravity>1</gravity>
            <velocity_decay/>
        </link>

        <link name="left_wing">
            <parent>base_link</parent>
            <pose frame=''>0 0.15 -0.05 1.5708 0 0 0</pose>
            <inertial>
                <pose frame=''>0 0 0 0 -0 0</pose>
                <mass>0.06</mass>
                <inertia>
                    <ixx>0.000121875</ixx>
                    <ixy>0</ixy>
                    <ixz>0</ixz>
                    <iyy>1.875e-05</iyy>
                    <iyz>0</iyz>
                    <izz>0.000121875</izz>
                </inertia>
            </inertial>
            <collision name="left_wing_collision">
                <geometry>
                <cylinder>
                    <radius>0.025</radius>
                    <length>0.15</length>
                </cylinder>
                </geometry>
            </collision>
            <visual name="left_wing_visual">
                <pose frame=''>0 0 0 0 -0 0</pose>
                <geometry>
                <cylinder>
                    <radius>0.025</radius>
                    <length>0.15</length>
                </cylinder>
                </geometry>
                <material>
                <script>
                    <name>Gazebo/Red</name>
                    <uri>file://media/materials/scripts/gazebo.material</uri>
                </script>
                </material>
            </visual>
            <gravity>1</gravity>
            <velocity_decay/>
        </link>
        
        <joint name='left_wing_joint' type='revolute'>
            <child>left_wing</child>
            <parent>base_link</parent>
            <axis>
                <xyz>0 0 -1</xyz>
                <limit>
                <lower>-1e+16</lower>
                <upper>1e+16</upper>
                </limit>
                <dynamics>
                <damping>0</damping>
                <friction>0</friction>
                <spring_reference>0</spring_reference>
                <spring_stiffness>0</spring_stiffness>
                </dynamics>
                <use_parent_model_frame>1</use_parent_model_frame>
            </axis>
        </joint>

        <link name="right_wing">
            <parent>base_link</parent>
            <pose frame=''>0 -0.15 -0.05 1.5708 0 0 0</pose>
            <inertial>
                <pose frame=''>0 0 0 0 -0 0</pose>
                <mass>0.06</mass>
                <inertia>
                <ixx>0.000121875</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>1.875e-05</iyy>
                <iyz>0</iyz>
                <izz>0.000121875</izz>
                </inertia>
            </inertial>
            <collision name="right_wing_collision">
                <geometry>
                <cylinder>
                    <radius>0.025</radius>
                    <length>0.15</length>
                </cylinder>
                </geometry>
            </collision>
            <visual name="right_wing_visual">
                <pose frame=''>0 0 0 0 -0 0</pose>
                <geometry>
                <cylinder>
                    <radius>0.025</radius>
                    <length>0.15</length>
                </cylinder>
                </geometry>
                <material>
                <script>
                    <name>Gazebo/Red</name>
                    <uri>file://media/materials/scripts/gazebo.material</uri>
                </script>
                </material>
            </visual>
            <gravity>1</gravity>
            <velocity_decay/>
        </link>

        <joint name='right_wing_joint' type='revolute'>
            <child>right_wing</child>
            <parent>base_link</parent>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                <lower>-1e+16</lower>
                <upper>1e+16</upper>
                </limit>
                <dynamics>
                <damping>0</damping>
                <friction>0</friction>
                <spring_reference>0</spring_reference>
                <spring_stiffness>0</spring_stiffness>
                </dynamics>
                <use_parent_model_frame>1</use_parent_model_frame>
            </axis>
        </joint>

        <!--plugin name='left_wing_model' filename='libmagnus_plugin.so'>
            <robotNamespace/>
            <jointName>left_wing_joint</jointName>
            <linkName>left_wing</linkName>
            <wingRadius>0.025</wingRadius>
            <wingLegth>0.15</wingLegth>
            <wingMass>0.06</wingMass>
            <maxRotVelocity>1100</maxRotVelocity>
            <commandSubTopic>/gazebo/command/wing_speed</commandSubTopic>
            <wingSide>left</wingSide>
            <wingNumber>0</wingNumber>
            <motorSpeedPubTopic>/wing_speed/0</motorSpeedPubTopic>
            <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>
        </plugin>

        <plugin name='right_wing_model' filename='libmagnus_plugin.so'>
            <robotNamespace/>
            <jointName>right_wing_joint</jointName>
            <linkName>right_wing</linkName>
            <wingRadius>0.025</wingRadius>
            <wingLegth>0.15</wingLegth>
            <wingMass>0.06</wingMass>
            <maxRotVelocity>1100</maxRotVelocity>
            <commandSubTopic>/gazebo/command/wing_speed</commandSubTopic>
            <wingSide>right</wingSide>
            <wingNumber>1</wingNumber>
            <motorSpeedPubTopic>/wing_speed/1</motorSpeedPubTopic>
            <rotorVelocitySlowdownSim>10</rotorVelocitySlowdownSim>
        </plugin-->

    </model>
</sdf>
  